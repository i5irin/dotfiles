# Load the library functions.
. ./lib.sh

BASHRC_MACOS_PATH="$(dirname "$(readlinkf "$BASH_SOURCE")")"

# Load the common .bashrc.
. "${BASHRC_MACOS_PATH}/../.bashrc"

# configure bash completion
if [ -f $(brew --prefix)/etc/bash_completion ]; then
  source $(brew --prefix)/etc/bash_completion
fi

# Terminal coloring and displaying Git information
if [ -f "$(brew --prefix)/etc/bash_completion.d/git-prompt.sh" ]; then
  source "$(brew --prefix)/etc/bash_completion.d/git-prompt.sh"
  GIT_PS1_SHOWDIRTYSTATE=1
  GIT_PS1_SHOWUPSTREAM=1
  GIT_PS1_SHOWUNTRACKEDFILES=1
  GIT_PS1_SHOWSTASHSTATE=1
  PS1='\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\[\033[1;31m\]$(__git_ps1)\[\033[00m\] \$ '
else
  PS1='\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ '
fi

# For lesspipe installed by brew.
# Make less more friendly for non-text input files, see lesspipe(1)
if [ -x /usr/local/bin/lesspipe.sh ]; then
  eval "$(SHELL=/bin/sh lesspipe.sh)"
fi
